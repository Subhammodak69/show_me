{% extends "admin/home.html" %}
{% block title %}Update Order{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>Update Order #{{ order.id }}</h2>
  <form method="post">
    {% csrf_token %}
    <div class="mb-3">
      <label>User:</label>
      <select name="created_by" class="form-control">
        {% for user in users %}
          <option value="{{ user.id }}" {% if user.id == order.created_by.id %}selected{% endif %}>{{ user.username }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Delivery Address:</label>
      <textarea name="delivery_address" class="form-control" rows="2">{{ order.delivery_address }}</textarea>
    </div>
    <div class="mb-3">
      <label>Status:</label>
      <select name="status" class="form-control">
        {% for value, name in statuses %}
          <option value="{{ value }}" {% if value == order.status %}selected{% endif %}>{{ name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Total Price:</label>
      <input type="number" name="total_price" class="form-control" value="{{ order.total_price }}" required />
    </div>
    <div class="mb-3 form-check">
      <input type="checkbox" name="is_active" class="form-check-input" {% if order.is_active %}checked{% endif %}>
      <label class="form-check-label">Active</label>
    </div>
    <button type="submit" class="btn btn-success">Update</button>
    <a href="{% url 'admin_order_list' %}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
