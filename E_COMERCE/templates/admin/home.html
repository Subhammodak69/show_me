<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Admin Home | Show_me{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{% static 'logo/favicon.jpg' %}">

  <!-- Bootstrap CSS & JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <script defer src="{% static 'js/auto_reload.js' %}"></script>

  <style>
    body {
      background-color: #f8f9fa;
    }

    .offcanvas-start {
      width: 250px;
    }

    .navbar-brand {
      font-weight: bold;
      font-size: 28px;
    }

    .nav-link {
      font-size: 16px;
    }

    .avatar-circle {
      width: 40px;
      height: 40px;
      background-color: #6c757d;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .content-area {
      background-color: white;
      margin-top: 80px;
      padding: 20px;
    }

    .loading {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

#loaderOverlay {
    height: 100%;
    top: 50%;
    display: flex;
    justify-content: center;
    align-items: center;

}

.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid #f3f3f3;
    border-top: 5px solid #3498db;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
  </style>
</head>

<body>
  <!-- Loader -->
  <div class="loading" style="display:none;">
    <div id="loaderOverlay">
      <div class="spinner"></div>
    </div>
  </div>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top px-3">
  <!-- Left: Hamburger + Logo -->
  <div class="d-flex align-items-center">
    <button class="btn text-white me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu">
      <i class="bi bi-list fs-3"></i>
    </button>
    <a class="navbar-brand" href="/admin/">SHOW ME</a>
  </div>

  <!-- Center: Dashboard Title -->
  <div class="mx-auto text-center">
    <h3 class="mb-0 text-white">Dashboard</h3>
  </div>

  <!-- Right: Profile/Dropdown -->
  <div class="ms-auto d-flex align-items-center gap-3">
    {% if user.is_authenticated %}
    <div class="dropdown">
      <a class="d-flex align-items-center text-decoration-none" href="#" data-bs-toggle="dropdown">
        {% if request.user.profile_photo_url %}
        <img src="{{ request.user.profile_photo_url }}" class="rounded-circle" width="40" height="40">
        {% else %}
        <div class="avatar-circle">{{ request.user.first_name|default:user.username|slice:":1"|upper }}</div>
        {% endif %}
      </a>
      <ul class="dropdown-menu dropdown-menu-end shadow">
        <li><a class="dropdown-item" href="/profile/"><i class="bi bi-person-circle me-2"></i>My Profile</a></li>
        <li>
          <form method="POST" action="{% url 'log_out' %}">
            {% csrf_token %}
            <button type="submit" class="dropdown-item"><i class="bi bi-box-arrow-right me-2"></i>Logout</button>
          </form>
        </li>
      </ul>
    </div>
    {% endif %}
  </div>
</nav>


  <!-- Sidebar -->
  <div class="offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="sidebarMenu">
    <div class="offcanvas-header border-bottom">
      <h5 class="offcanvas-title">ðŸ“‹ Menu</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
    <ul class="nav flex-column">
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/">
          <i class="bi bi-speedometer2 me-2"></i>Dashboard
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/users/">
          <i class="bi bi-person-lines-fill me-2"></i>Users
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/category/">
          <i class="bi bi-tags me-2"></i>Categories
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/poster/">
          <i class="bi bi-file-earmark-image me-2"></i>Posters
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/subcategory/">
          <i class="bi bi-tag me-2"></i>Sub-Categories
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/product/">
          <i class="bi bi-bag-check me-2"></i>Products
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/productitem/">
          <i class="bi bi-boxes me-2"></i>Product Items
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/iteminfo/">
          <i class="bi bi-boxes me-2"></i>Items Info
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/offers/">
          <i class="bi bi-tag-fill"></i>Offers
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/cart/">
          <i class="bi bi-cart4 me-2"></i>Carts
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/cartitem/">
          <i class="bi bi-bag-dash me-2"></i>Cart Items
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/wishlist/">
          <i class="bi bi-heart me-2"></i>Wishlists
        </a>
      </li>
      
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/orders/">
          <i class="bi bi-truck me-2"></i>Orders
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/orderitems/">
          <i class="bi bi-box2-heart me-2"></i>Order Items
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="/admin/reviews/">
          <i class="bi bi-box2-heart me-2"></i>Reviews
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-gear-wide-connected me-2"></i>Settings
        </a>
      </li>
    </ul>

    </div>
  </div>

  <!-- Main content -->
  <div class="container-fluid content-area">
    {% block content %}
    <!-- Dashboard content goes here -->
    {% endblock %}
  </div>

</body>
</html>
