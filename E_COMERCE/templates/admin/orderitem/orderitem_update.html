{% extends 'admin/home.html' %}
{% block title %}Update OrderItem{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>Update OrderItem #{{ orderitem.id }}</h2>
  <form method="post">
    {% csrf_token %}
    <div class="mb-3">
      <label>Order:</label>
      <select name="order_id" class="form-control" required>
        {% for order in orders %}
          <option value="{{ order.id }}" {% if order.id == orderitem.order_id.id %}selected{% endif %}>
            Order #{{ order.id }}
          </option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Product Item:</label>
      <select name="product_item" class="form-control" required>
        {% for item in product_items %}
          <option value="{{ item.product.id }}" {% if item.product.id == orderitem.product_item.id %}selected{% endif %}>
            {{ item.product.name }}
          </option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Size:</label>
      <select name="size" class="form-control" required>
        {% for value, name in sizes %}
          <option value="{{ value }}" {% if value == orderitem.size %}selected{% endif %}>{{ name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Color:</label>
      <select name="color" class="form-control" required>
        {% for value, name in colors %}
          <option value="{{ value }}" {% if value == orderitem.color %}selected{% endif %}>{{ name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Price:</label>
      <input type="number" name="price" class="form-control" min="1" value="{{ orderitem.price }}" required />
    </div>
    <div class="mb-3">
      <label>Quantity:</label>
      <input type="number" name="quantity" class="form-control" value="{{ orderitem.quantity }}" required />
    </div>
    <div class="mb-3 form-check">
      <input type="checkbox" name="is_active" class="form-check-input" {% if orderitem.is_active %}checked{% endif %} />
      <label class="form-check-label">Active</label>
    </div>
    <button type="submit" class="btn btn-success">Update</button>
    <a href="{% url 'admin_orderitem_list' %}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
